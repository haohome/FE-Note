<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>移动端自适应</title>
</head>
<body>
    <!-- 在绘图前我们需要为 ECharts 准备一个具备高宽的 DOM 容器。 -->
    <div id="main" style='widht:600px; height:400px;'></div>

</body>
<!-- 引入 Echarts  -->
<script src="echarts.js"></script>
<script src="jquery.js"></script>
<script>
    // ECharts 完善了组件的定位设置，实现了类似 CSS Media Query 的自适应能力, 解决了同时在PC、移动端上展现的场景

    // 基于准备好的 dom， 初始化 echarts 实例
    var myChart = echarts.init(document.getElementById('main'));

    option = {
        // 这里是基本的『原子option』。
        baseOption: {
            title : {
                text: '南丁格尔玫瑰图',
                subtext: '纯属虚构',
                x:'center'
            },
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                data:['rose1','rose2','rose3','rose4','rose5','rose6','rose7','rose8']
            },
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {
                        show: true,
                        type: ['pie', 'funnel']
                    },
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
            calculable : true,
            series : [
                {
                    name:'半径模式',
                    type:'pie',
                    roseType : 'radius',
                    label: {
                        normal: {
                            show: false
                        },
                        emphasis: {
                            show: true
                        }
                    },
                    lableLine: {
                        normal: {
                            show: false
                        },
                        emphasis: {
                            show: true
                        }
                    },
                    data:[
                        {value:10, name:'rose1'},
                        {value:5, name:'rose2'},
                        {value:15, name:'rose3'},
                        {value:25, name:'rose4'},
                        {value:20, name:'rose5'},
                        {value:35, name:'rose6'},
                        {value:30, name:'rose7'},
                        {value:40, name:'rose8'}
                    ]
                },
                {
                    name:'面积模式',
                    type:'pie',
                    roseType : 'area',
                    data:[
                        {value:10, name:'rose1'},
                        {value:5, name:'rose2'},
                        {value:15, name:'rose3'},
                        {value:25, name:'rose4'},
                        {value:20, name:'rose5'},
                        {value:35, name:'rose6'},
                        {value:30, name:'rose7'},
                        {value:40, name:'rose8'}
                    ]
                }
            ]
        },
        // 这里定义了 media query 的逐条规则。
        media: [
            {   // 这条里没有写规则，表示『默认』，
                option: {    // 即所有规则都不满足时，采纳这个option。
                    legend: {
                        right: 'center',
                        bottom: 0,
                        orient: 'horizontal'
                    },
                    series: [
                        {
                            radius: [20, '50%'],    // 内半径  外半径
                            center: ['25%', '50%']  // x 轴坐标， y 轴左标
                        },
                        {
                            radius: [30, '50%'],    // 内半径  外半径
                            center: ['75%', '50%']  // x 轴坐标， y 轴左标
                        }
                    ]
                }
            },
            {   // 这里写规则。
                query: {
                    maxAspectRatio: 1   // 当长宽比小于1时。
                },
                // 这里写此规则满足下的option。
                option: {
                    legend: {
                        right: 'center',     // legend 放在底部中间。
                        bottom: 0,
                        orient: 'horizontal'    // legend 横向布局。
                    },
                    series: [   // 两个饼图左右布局。
                        {
                            radius: [20, '50%'],
                            center: ['50%', '30%']
                        },
                        {
                            radius: [30, '50%'],
                            center: ['50%', '70%']
                        }
                    ]
                }
            },
            {   // 第二个规则。
                query: {
                    maxWidth: 500       // 当容器宽度小于 500 时。
                },
                // 第二个规则对应的option。
                option: {
                    legend: {
                        right: 10,   // legend 放置在右侧。
                        top: '15%',
                        orient: 'vertical'  // 纵向布局。
                    },
                    series: [   // 两个饼图上下布局。
                        {
                            radius: [20, '50%'],
                            center: ['50%', '30%']
                        },
                        {
                            radius: [30, '50%'],
                            center: ['50%', '75%']
                        }
                    ]
                }
            }
        ]
    };
    // 上面的例子中，baseOption、以及 media 每个 option 都是『原子 option』，
    // 即普通的含有各组件、系列定义的 option。而由『原子option』组合成的整个 option，
    // 我们称为『复合 option』。baseOption 是必然被使用的，
    // 此外，满足了某个 query 条件时，对应的 option 会被使用 chart.mergeOption() 来 merge 进去。


    // query 写法：
    //    {
    //        minWidth: 200,    // 最小宽
    //        maxHeight: 300,   // 最大高
    //        minAspectRatio: 1.3  // 长宽比
    //    }
    // query 现在支持三个属性：width、height、aspectRatio（长宽比）。
    // 每个属性都可以加上 min 或 max 前缀。比如，minWidth: 200 表示『大于等于200px宽度』。
    // 两个属性一起写表示『并且』，比如：{minWidth: 200, maxHeight: 300} 表示『大于等于200px宽度，并且小于等于300px高度』。
    myChart.setOption( option );



</script>

</html>